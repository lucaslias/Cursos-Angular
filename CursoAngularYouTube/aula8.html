<!--
    Programador : Lucas Guilherme
    Data        : 19/01/2022
    Descricao   : aplicando alias
-->
<html ng-app="aula">
<head>
    <title> {{titulo}} </title>
    <script src="lib/angular.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

    <script>
        angular.module("aula",[])

        .run(function($rootScope){
            $rootScope.titulo = "aula7"
            $rootScope.nome = "Lucas"
        })

        .controller ("ControllerUm", function($rootScope, $http){
            var ctrl = this; //alias
            ctrl.titulo = "Pesquisar"
            ctrl.nome = "Jo√£o"  


            ctrl.mudarTitulo = function(){
                ctrl.titulo = "novo titulo";
            }
        })

        .controller ("ControllerDois", function($rootScope, $http){
            var ctrl = this;
            ctrl.titulo = "Lista"
            ctrl.nomes = ["maria", "joao", "odair"] ;

            ctrl.mudarTitulo = function(){
                ctrl.titulo = "novo titulo filho";
            }

        }) 
    </script>

<body>

    <div style="text-align: center;">
        <h1> Teste Aula </h1>
    </div>

    <div class ="container" style="margin-top: 2em;"> 

        <div class="card" ng-controller="ControllerUm as pc1">
            <h5 class="card-header"> 
                {{pc1.titulo}} - 
                {{pc1.nome}} 
            </h5>
            <div class="card-body">
                texto
            </div>
        </div>

        <div class="card" ng-controller="ControllerUm as pc1">
            <h5 class="card-header"> 
                {{pc1.titulo}} - 
                {{pc1.nome}} 
                <button ng-click="pc1.mudarTitulo()"> alterar </button> 
            </h5>
            <div class="card-body">
                texto
            </div>

            <div class="card" ng-controller="ControllerDois as pc2">
                <h5 class="card-header"> 
                    {{pc2.titulo}} - {{pc1.titulo}} <!-- permite ver a inf de outro controller (tem que estar encadeado)-->
                    <button ng-click="pc2.mudarTitulo()"> alterar </button> 
                </h5>
                <div class="card-body">
                   <ul>
                        <li ng-repeat="osNomes in pc2.nomes" ng-click="pc2.mudarTitulo();"> 
                            {{osNomes}}  
                        </li>
                   </ul>
                </div>
            </div>

        </div>

  


    </div>


</body>
</html>