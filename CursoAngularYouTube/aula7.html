<!--
    Programador : Lucas Guilherme
    Data        : 19/01/2022
    Descricao   : hierarquia, diferenças de scopo e varios controllers
-->
<html ng-app="aula">
<head>
    <title> {{titulo}} </title>
    <script src="lib/angular.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

    <script>
        angular.module("aula",[])

        .run(function($rootScope){
            $rootScope.titulo = "aula7"
            $rootScope.nome = "Lucas"
        })

        .controller ("ControllerUm", function($rootScope, $scope, $http){
            $scope.titulo = "Pesquisar"
            $scope.nome = "João"  


            $scope.mudarTitulo = function(){
                $scope.titulo = "novo titulo";
            }
        })

        .controller ("ControllerDois", function($rootScope, $scope, $http){
            $scope.titulo = "Lista"
            $scope.nomes = ["maria", "joao", "odair"] ;

            $scope.mudarTitulo = function(){
                $scope.titulo = "novo titulo filho";
            }

        }) 
    </script>

<body>

    <div style="text-align: center;">
        <h1> Teste Aula </h1>
    </div>

    <div class ="container" style="margin-top: 2em;"> 

        <div class="card" ng-controller="ControllerUm">
            <h5 class="card-header"> 
                {{titulo}} - 
                {{nome}} <!-- O valor do controller utilizado tem preferencia-->
            </h5>
            <div class="card-body">
                texto
            </div>
        </div>

        <div class="card" ng-controller="ControllerUm">
            <h5 class="card-header"> 
                {{titulo}} - 
                {{nome}} 
                <button ng-click="mudarTitulo()"> alterar </button> <!-- alterar em um não muda nos dois-->
            </h5>
            <div class="card-body">
                texto
            </div>

            <div class="card" ng-controller="ControllerDois">
                <h5 class="card-header"> 
                    {{titulo}}
                    <button ng-click="mudarTitulo()"> alterar </button> 
                </h5>
                <div class="card-body">
                   <ul>
                        <li ng-repeat="osNomes in nomes" ng-click="mudarTitulo();"> 
                            {{osNomes}}  
                        </li>
                   </ul>
                </div>
            </div>

        </div>

  


    </div>


</body>
</html>